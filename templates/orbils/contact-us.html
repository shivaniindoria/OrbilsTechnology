{% include "orbils/header.html" %}
{% load static %}
    <div class="col-7 card my-5 p-5 container" style="margin-top:70px;"><h3>Contact us for any Querry</h3><hr>
        <form class="row g-3" action="{% url "contact-us" %}" method="POST">
            {% csrf_token %}
            <div class="col-md-6">
                <label for="firstname" class="form-label">First Name:</label>
                <input type="text" name="firstname" class="form-control" id="firstname">
            </div>
            <div class="col-md-6">
                <label for="lastname" class="form-label">Last Name:</label>
                <input type="text" name="lastname" class="form-control" id="lastname">
            </div>
            <div class="col-md-6">
                <label for="inputEmail4" class="form-label">Email:</label>
                <input type="email" name="email" class="form-control" id="inputEmail4">
            </div>
            <div class="col-md-6">
                <label for="number" class="form-label">Mobile Number:</label>
                <input type="tel"  name="number" class="form-control" id="number">
            </div>
            <div class="col-12">
                <label for="inputquerry" class="form-label">Querry/Issue:</label>
                <textarea id="inputquerry" name="querry" class="form-control" rows="2"></textarea>
            </div>
            <div class="col-12">
                <label for="inputAddress" class="form-label">Address:</label>
                <input type="text" name="add1" class="form-control" id="inputAddress" placeholder="1234 Main St">
            </div>
            <div class="col-12">
                <label for="inputAddress2" class="form-label">Address 2:</label>
                <input type="text" name="add2" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
            </div>
            <div class="col-md-3">
                <label for="inputCountry" class="form-label">Country:</label>
                <input type="text" name="country" class="form-control" id="inputCountry">

                {% comment %} <select id="inputCountry" name="country" class="form-select">
                    <!-- Options will be dynamically populated here -->
                </select> {% endcomment %}
            </div>
            <div class="col-md-3">
                <label for="inputState" class="form-label">State:</label>
                <input type="text" name="state" class="form-control" id="inputState">

                {% comment %} <select id="inputState" name="state" class="form-select">
                    <!-- Options will be dynamically populated here -->
                </select> {% endcomment %}
            </div>

            <div class="col-md-3">
                <label for="inputCity" class="form-label">City:</label>
                <input type="text" name="city" class="form-control" id="inputCity">

                {% comment %} <select id="inputCity" name="city" class="form-select">
                    <!-- Options will be dynamically populated here -->
                </select> {% endcomment %}
            </div>

            {% comment %} https://places.googleapis.com/v1/places/GyuEmsRBfy61i59si0?fields=addressComponents&key=AIzaSyBSSVFtIQoTX5_eft5MVJizfSjEGp-XtgM {% endcomment %}
            <div class="col-md-3">
                <label for="inputZip" class="form-label">Zip:</label>
                <input type="text"  name="zip" class="form-control" id="inputZip">
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-dark">Send</button>
                </div>
            </form>
        </div>
    {% comment %} <script>
        // Function to fetch data from Google Places API
        function fetchData(url, selectElement) {
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    // Clear existing options
                    selectElement.innerHTML = '';

                    // Populate dropdown options
                    data.results.forEach(item => {
                        const option = document.createElement('option');
                        option.value = item.id; // Adjust if your API returns IDs
                        option.text = item.name; // Adjust if your API returns names
                        selectElement.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        // Fetch countries and populate the country dropdown
        const countrySelect = document.getElementById('inputCountry');
        fetchData('https://places.googleapis.com/v1/places?fields=addressComponents&key=AIzaSyBSSVFtIQoTX5_eft5MVJizfSjEGp-XtgM', countrySelect);

        // Event listener to fetch states when a country is selected
        countrySelect.addEventListener('change', function() {
            const selectedCountry = this.value;
            const stateSelect = document.getElementById('inputState');
            fetchData(`https://places.googleapis.com/v1/places/${selectedCountry}/states?fields=addressComponents&key=AIzaSyBSSVFtIQoTX5_eft5MVJizfSjEGp-XtgM`, stateSelect);
        });

        // Event listener to fetch cities when a state is selected
        const stateSelect = document.getElementById('inputState');
        stateSelect.addEventListener('change', function() {
            const selectedState = this.value;
            const citySelect = document.getElementById('inputCity');
            fetchData(`https://places.googleapis.com/v1/places/${selectedState}/cities?fields=addressComponents&key=AIzaSyBSSVFtIQoTX5_eft5MVJizfSjEGp-XtgM`, citySelect);
        });
    </script> {% endcomment %}


    <div class="contact-section container mt-5" style="display:flex;">
        <div class="map" >
            <!-- Embed your map here using Google Maps or any other mapping service -->
            <!-- Example: -->
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d112050.29065938038!2d76.90249902790094!3d29.390946016346487!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3912ff0c40958f7d%3A0x271f37f5f36e9ce!2sPanipat%2C%20Haryana%20132103%2C%20India!5e0!3m2!1sen!2s!4v1646887104972!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
        <div class="contact-details" style="display:inline-block;padding:50px;">
            <h2>Contact Details</h2>
            <p>Address: 123 Main Street, Panipat, India</p>
            <p>Phone: +1234567890</p>
            <p>Email: orbilstechnology@gmail.com</p>
        </div>
    </div>
    <img src="{% static "orbils/images/chat-removebg.png" %}" class="circular-image position-bottom-right" alt="Circular Image">
    {% comment %} <button type="button" class="btn btn-lg btn-danger" data-bs-toggle="popover" data-bs-title="Popover title" data-bs-content="And here's some amazing content. It's very engaging. Right?">Click to toggle popover</button> {% endcomment %}

{% include "orbils/footer.html" %}